<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Printer Configuration - Epson L120 Driver</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Printer Configuration</h1>
            <nav>
                <a href="/">Home</a>
                <a href="/config" class="active">Configuration</a>
            </nav>
        </header>

        <main>
            <div class="config-section">
                <h2>Current Configuration</h2>
                <div id="current-config" class="config-display">
                    <div class="loading">Loading configuration...</div>
                </div>
                <button id="reload-config" class="btn btn-secondary">Reload from File</button>
            </div>

            <div class="config-section">
                <h2>Update Configuration</h2>
                <form id="config-form">
                    <div class="form-group">
                        <label for="auto-discovery">
                            <input type="checkbox" id="auto-discovery" name="auto_discovery">
                            Enable Auto Discovery
                        </label>
                        <small>Automatically discover available printers</small>
                    </div>

                    <div class="form-group">
                        <label for="default-name">Default Printer Name:</label>
                        <input type="text" id="default-name" name="default_name" placeholder="EPSON L120 Series (Copy 1)">
                        <small>Name of the default printer to use</small>
                    </div>

                    <div class="form-group">
                        <label for="default-id">Default Printer ID:</label>
                        <input type="text" id="default-id" name="default_id" placeholder="epson_l120_series_copy_1">
                        <small>Unique identifier for the default printer</small>
                    </div>

                    <div class="form-group">
                        <label for="refresh-interval">Refresh Interval (seconds):</label>
                        <input type="number" id="refresh-interval" name="refresh_interval" min="5" max="300" value="60">
                        <small>How often to refresh printer status</small>
                    </div>

                    <div class="form-group">
                        <label for="status-check-interval">Status Check Interval (seconds):</label>
                        <input type="number" id="status-check-interval" name="status_check_interval" min="1" max="60" value="5">
                        <small>How often to check printer status</small>
                    </div>

                    <div class="form-group">
                        <label for="show-connection-status">
                            <input type="checkbox" id="show-connection-status" name="show_connection_status" checked>
                            Show Connection Status
                        </label>
                        <small>Display printer connection status in UI</small>
                    </div>

                    <div class="form-group">
                        <label for="show-visual-indicator">
                            <input type="checkbox" id="show-visual-indicator" name="show_visual_indicator" checked>
                            Show Visual Indicators
                        </label>
                        <small>Display visual indicators for printer status</small>
                    </div>

                    <div class="form-group">
                        <label for="auto-refresh-status">
                            <input type="checkbox" id="auto-refresh-status" name="auto_refresh_status" checked>
                            Auto Refresh Status
                        </label>
                        <small>Automatically refresh status display</small>
                    </div>

                    <div class="form-group">
                        <label for="fallback-enabled">
                            <input type="checkbox" id="fallback-enabled" name="fallback_enabled">
                            Enable Fallback Search
                        </label>
                        <small>Use fallback search when default printer not found</small>
                    </div>

                    <div class="form-group">
                        <label for="fallback-keywords">Fallback Keywords:</label>
                        <input type="text" id="fallback-keywords" name="fallback_keywords" placeholder="L120,EPSON">
                        <small>Comma-separated keywords for fallback search</small>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Update Configuration</button>
                        <button type="reset" class="btn btn-secondary">Reset Form</button>
                    </div>
                </form>
            </div>

            <div id="message" class="message" style="display: none;"></div>
        </main>
    </div>

    <script src="/static/config.js"></script>
</body>
</html>